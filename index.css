/* ==== Base / Tema ==== */
:root{
  --bg:#0f1115;
  --panel:#161a22;
  --panel-2:#1e2430;
  --text:#e7eefb;
  --muted:#9fb3c8;
  --primary:#00ff96;
  --primary-2:#00cc77;
  --danger:#ff5c5c;
  --blue:#7db7ff;
  --radius:14px;
  --shadow:0 10px 30px rgba(0,0,0,.35), 0 0 0 1px rgba(255,255,255,.04) inset;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background: radial-gradient(1200px 600px at 70% -20%, rgba(0,255,150,.08), transparent) , var(--bg);
  color:var(--text);
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  line-height:1.5;
}

.app-header{
  padding:28px 22px 8px;
  text-align:center; /* título centralizado */
}
.app-header h1{ margin:0 0 6px; font-weight:800; letter-spacing:.3px; }
.subtitle{margin:0;color:var(--muted)}

/* ==== Controls ==== */
.controls{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap:12px;
  padding:12px 22px 22px;
}
.controls.collapsed .field{ display:none; }
.controls.collapsed { grid-template-columns: 1fr; }
.controls .collapse-hint{ color:var(--muted); opacity:.9; margin-left:6px }

.field{
  display:flex;
  flex-direction:column;
  background:var(--panel);
  padding:12px;
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  border:1px solid rgba(255,255,255,.05);
}
.field label{ font-size:.86rem; color:var(--muted); margin-bottom:6px; }
.field input, .field select{
  background:var(--panel-2);
  border:1px solid rgba(255,255,255,.06);
  color:var(--text);
  padding:10px 12px;
  border-radius:10px;
  outline:none;
}
.field input:focus, .field select:focus{
  border-color:var(--primary);
  box-shadow:0 0 0 3px rgba(0,255,150,.12);
}
.hint{color:var(--muted); font-size:.8rem; margin-top:6px}

.btn-primary{
  align-self:start;
  background:linear-gradient(180deg, var(--primary), var(--primary-2));
  border:0;
  padding:12px 16px;
  border-radius:12px;
  color:#062;
  font-weight:800;
  cursor:pointer;
  transition:transform .06s ease, filter .15s ease;
}
.btn-primary:active{ transform: translateY(1px) }
.btn-primary:hover{ filter:brightness(.95) }

/* Centraliza o campo de câmbio mantendo o tamanho visual */
.field-exchange{
  grid-column: 1 / -1;    /* ocupa a linha inteira do grid */
  justify-self: center;   /* centraliza o bloco */
  max-width: 420px;       /* largura parecida com os outros campos */
  width: 100%;
}

/* ==== Trips (multi-calendários) ==== */
.trips{ display:flex; flex-direction:column; gap:16px; padding:0 22px 40px; }
.trip{
  background:var(--panel);
  border:1px solid rgba(255,255,255,.05);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  overflow:hidden;
}
.trip-header{
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 16px;
  cursor:pointer;
  background:linear-gradient(180deg, rgba(0,255,150,.10), transparent);
  border-bottom:1px solid rgba(255,255,255,.06);
}
.trip-title{ font-weight:800; display:flex; gap:10px; align-items:center; }
.trip-sub{ color:var(--muted); font-weight:600; font-size:.9rem }
.chevron{ transition: transform .2s ease }
.trip.collapsed .chevron{ transform: rotate(-90deg) }

.trip-body{ padding:12px 14px 18px; display:none; }
.trip:not(.collapsed) .trip-body{ display:block; }

/* Ações no cabeçalho do calendário (resumo + excluir) */
.trip-actions{ display:flex; gap:10px; align-items:center; }
.trip-actions .action-btn.red{ white-space:nowrap }

/* Stats dentro do trip */
.stats{
  display:flex;
  gap:12px;
  margin-bottom:12px;
  flex-wrap:wrap;
}
.stat{
  flex:1 1 260px;
  background:var(--panel-2);
  border:1px solid rgba(255,255,255,.05);
  border-radius:var(--radius);
  padding:14px;
  box-shadow:var(--shadow);
  display:flex; justify-content:space-between; align-items:center;
}
.stat span{ color:var(--muted) }
.stat strong{ font-size:1.1rem }

/* ==== Calendar grid por trip ==== */
.calendar{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap:14px;
}
.day-card{
  background:var(--panel-2);
  border:1px solid rgba(255,255,255,.05);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  overflow:hidden;
  display:flex;
  flex-direction:column;
}
.day-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:12px 14px;
  background:linear-gradient(180deg, rgba(0,255,150,.14), transparent);
  border-bottom:1px solid rgba(255,255,255,.06);
}
.day-title{ font-weight:700 }
.day-actions{ display:flex; gap:8px }
.icon-btn{
  background:var(--panel);
  border:1px solid rgba(255,255,255,.06);
  color:var(--text);
  border-radius:10px;
  padding:8px 10px;
  cursor:pointer;
}
.icon-btn:hover{ border-color:var(--primary) }

.list{ padding:10px 12px; display:flex; flex-direction:column; gap:8px }
.activity{
  display:grid;
  grid-template-columns: 20px 1fr auto auto;
  gap:10px;
  align-items:start;
  padding:10px;
  background:var(--panel);
  border:1px solid rgba(255,255,255,.06);
  border-radius:10px;
}
.activity .activity-text{ font-weight:600 }
.activity .activity-cost{ color:var(--muted); font-size:.9rem }

/* Unified action buttons */
.action-btn{
  background:transparent;
  border:1px solid rgba(255,255,255,.12);
  padding:6px 10px;
  border-radius:8px;
  cursor:pointer;
  font-weight:600;
  text-decoration:none;
}
.action-btn.blue{ color:var(--blue); border-color: rgba(125,183,255,.35); }
.action-btn.blue:hover{ border-color:var(--blue); }
.action-btn.red{ color:var(--danger); border-color: rgba(255,92,92,.35); }
.action-btn.red:hover{ border-color:var(--danger) }

.empty{
  padding:14px;
  margin:12px;
  border:1px dashed rgba(255,255,255,.15);
  border-radius:10px;
  color:var(--muted);

  /* centralizado como você pediu */
  display:flex;
  justify-content:center;
  align-items:center;
  text-align:center;
}

/* ==== Modal ==== */
.modal{ position:fixed; inset:0; display:none }
.modal.show{ display:block }
.modal-backdrop{ position:absolute; inset:0; background:rgba(0,0,0,.5) }
.modal-card{
  position:absolute; left:50%; top:50%; transform:translate(-50%,-50%);
  width:min(680px, 92vw);
  background:var(--panel);
  border:1px solid rgba(255,255,255,.06);
  border-radius:16px; box-shadow:var(--shadow);
  padding:16px;
}
.modal-close{
  position:absolute; right:10px; top:8px;
  background:transparent; color:var(--text); border:0; font-size:26px; cursor:pointer;
}
.modal-fields{ display:grid; grid-template-columns: 2fr 1fr auto; gap:10px; margin-top:8px }

/* === Inputs do modal com o mesmo visual dos campos === */
.modal-fields input{
  background: var(--panel-2);
  border: 1px solid rgba(255,255,255,.06);
  color: var(--text);
  padding: 10px 12px;
  border-radius: 10px;
  outline: none;
  width: 100%;
}
.modal-fields input:focus{
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(0,255,150,.12);
}
.modal-fields input::placeholder{
  color: var(--muted);
  opacity: .9;
}
/* Botão do modal ocupando a largura da linha do grid */
.modal-fields .btn-primary{
  grid-column: 1 / -1;
  width: 100%;
  justify-self: stretch;
}

/* ==== Responsividade ==== */
/* stats quebram bem em telas médias */
@media (max-width:900px){
  .stats{ flex-wrap:wrap }
  .stat{ min-width:260px; flex:1 1 260px }
}

/* em telas pequenas: controles em 2 colunas; botão ocupa a largura toda */
@media (max-width:720px){
  .controls{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .controls:not(.collapsed) .btn-primary{ grid-column: 1 / -1; justify-self:center; }
  .modal-fields{ grid-template-columns: 1fr; }
}

/* ultra estreito: volta para 1 coluna para não apertar demais */
@media (max-width:380px){
  .controls{ grid-template-columns: 1fr; }
  .controls:not(.collapsed) .btn-primary{ grid-column: 1 / -1; }
}

/* iOS: evita zoom ao focar em inputs mantendo font-size >= 16px */
@media (max-width: 768px){
  input, select, textarea {
    font-size: 16px;        /* ponto-chave para iOS não dar zoom */
  }
  /* garantir nos campos que já estilizamos */
  .field input, .field select, .modal-fields input {
    font-size: 16px;
  }
}

/* Opcional: suaviza comportamento de zoom/ajuste automático do Safari */
html {
  -webkit-text-size-adjust: 100%;
}

